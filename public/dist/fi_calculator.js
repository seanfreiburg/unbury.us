String.prototype.contains||(String.prototype.contains=function(t){return this.indexOf(t)!==-1});Math.sign=Math.sign||function(n){return n=+n,n===0||isNaN(n)?n:n>0?1:-1};function i(t,n){const e=Math.pow(10,n);return parseFloat((Math.round(t*e+1*(Math.sign(t)*(10/Math.pow(100,n))))/e).toFixed(n))}const a={autoCalculate(){this.calculate()},calculate(){const t=window;let n=0,e=t.current_assets;const r=(1-t.savings_rate/100)*t.current_salary;for(;e<t.years_of_savings*r;)if(n+=1,e+=(t.return_rate-t.inflation_rate)*e,e+=t.current_salary*(t.savings_rate/100),n>122){$("#years_to_fi").text("You may never reach FI with current savings rate");return}$("#years_to_fi").text(n+" years to financial independence")},currentSalaryInputChange(){this.inputChange("#current_salary")},savingsRateInputChange(){this.inputChange("#savings_rate")},currentAssetsInputChange(){this.inputChange("#current_assets")},inputChange(t){const e=$(t).val(),r=i(Number(e),2),s=window;s[t.substr(1,t.length)]=r}},u={init(){this.addCurrentAssetsListener(),this.addSavingsRateListener(),this.addCurrentSalaryListener(),this.addCalculateListener()},addCurrentSalaryListener(){$("#current_salary").change(function(){a.currentSalaryInputChange(),a.autoCalculate()})},addSavingsRateListener(){$("#savings_rate").change(function(){a.savingsRateInputChange(),a.autoCalculate()})},addCurrentAssetsListener(){$("#current_assets").change(function(){a.currentAssetsInputChange(),a.autoCalculate()})},addCalculateListener(){$("#calculate").click(function(){a.calculate()})}};function c(){const t=window;t.current_assets=0,t.savings_rate=0,t.current_salary=0,t.return_rate=.07,t.years_of_savings=25,t.inflation_rate=.02,u.init()}$().ready(function(){c()});
