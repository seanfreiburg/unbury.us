String.prototype.contains||(String.prototype.contains=function(n){return this.indexOf(n)!==-1});Math.sign=Math.sign||function(t){return t=+t,t===0||isNaN(t)?t:t>0?1:-1};function r(n,t){const e=Math.pow(10,t);return parseFloat((Math.round(n*e+1*(Math.sign(n)*(10/Math.pow(100,t))))/e).toFixed(t))}const a={autoCalculate(){this.calculate()},calculate(){let n=0,t=window.current_assets;const e=(1-window.savings_rate/100)*window.current_salary;for(;t<window.years_of_savings*e;)if(n+=1,t+=(window.return_rate-window.inflation_rate)*t,t+=window.current_salary*(window.savings_rate/100),n>122){$("#years_to_fi").text("You may never reach FI with current savings rate");return}$("#years_to_fi").text(n+" years to financial independence")},currentSalaryInputChange(){this.inputChange("#current_salary")},savingsRateInputChange(){this.inputChange("#savings_rate")},currentAssetsInputChange(){this.inputChange("#current_assets")},inputChange(n){let e=$(n).val();e=r(e,2),window[n.substr(1,n.length)]=Number(e)}},i={init(){this.addCurrentAssetsListener(),this.addSavingsRateListener(),this.addCurrentSalaryListener(),this.addCalculateListener()},addCurrentSalaryListener(){$("#current_salary").change(function(){a.currentSalaryInputChange(),a.autoCalculate()})},addSavingsRateListener(){$("#savings_rate").change(function(){a.savingsRateInputChange(),a.autoCalculate()})},addCurrentAssetsListener(){$("#current_assets").change(function(){a.currentAssetsInputChange(),a.autoCalculate()})},addCalculateListener(){$("#calculate").click(function(){a.calculate()})}};function s(){window.current_assets=0,window.savings_rate=0,window.current_salary=0,window.return_rate=.07,window.years_of_savings=25,window.inflation_rate=.02,i.init()}$().ready(function(){s()});
